
    <html lang="en">
  
<!-- Mirrored from blog.zopyx.com/andreas-jung/contents/pdf-generation-with-plone-and-phantomjs by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 21 Sep 2020 14:16:57 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<base  />

    <meta charset="utf-8">
    <title> PDF Generation with Plone and PhantomJS - Andreas Jung </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The company for Zope, Plone, Python, MongoDB and Electronic Publishing">
    <meta name="author" content="ZOPYX, Andreas Jung, Tuebingen, Germany">

    <link href="pdf-generation-with-plone-and-phantomjs/assets/css/bootstrap.css" rel="stylesheet">

    <style>
      body {
        padding-top: 100px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <link rel="stylesheet" href="https://blog.zopyx.com/assets/css/font-awesome.css">

    <!-- fonts -->
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700" rel="stylesheet" type="text/css">

    <link rel="stylesheet/less" type="text/css" href="https://blog.zopyx.com/assets/less/bootstrap.less" />
    <script type="text/javascript" src="https://blog.zopyx.com/assets/js/less-1.3.1.min.js"></script>

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
      <![endif]-->
    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="pdf-generation-with-plone-and-phantomjs/assets/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" src="https://blog.zopyx.com/assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" src="https://blog.zopyx.com/assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" src="https://blog.zopyx.com/assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" src="https://blog.zopyx.com/assets/ico/apple-touch-icon-57-precomposed.png">

    <link rel="stylesheet" href="https://blog.zopyx.com/assets/css/base.css">
    <link rel="stylesheet" href="https://blog.zopyx.com/bxslider/jquery.bxslider.css">


    <!-- Plone compatibility -->
    
    
  </head>

  <body data-spy="scroll" data-target=".sidebar-nav" class="section-andreas-jung context-pdf-generation-with-plone-and-phantomjs portal-type-news-item">

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          
            
            <a class="brand" style="color: white" href="../contents.html">
              <h1>Blog of Andreas Jung</h1>
            </a>
          
          
          
          
           <form id="global-nav-search" class="navbar-search pull-right" action="https://blog.zopyx.com/andreas-jung/search">
            
            <input type="text" class="search-query" placeholder="Search" name="SearchableText" />
           </form>
        </div>
      </div>
    </div>
     <!-- /keyvisual -->
    <article>
      <section>

        <!-- main -->
        <div class="container container-main">
            
            <div class="row-fluid">
                <div></div>
            </div>
            <div class="row-fluid">
                <div class="span8">
                    
                    <div id="content">
                      

                        
                            
    <span class="label">Jul 11, 2013</span>

                            
                                
                                
            
                <h1 id="parent-fieldname-title" class="documentFirstHeading">
                    PDF Generation with Plone and PhantomJS
                </h1>
            
            
        
                            

                            
                                <div class="documentDescription">Produce &amp; Publish (Plone Client Connector and Server Component) now supports the generation of PDF using Phantom.js as low-cost (free) alternative to commercial high-quality converters like PrinceXML, PDFreactor or Antennahouse Formatter V6. The quality should be good enough for most cases. The interesting part is that the look &amp; feel of the PDF can be influenced using CSS. </div> 
                            

                            <div id="content-core">
                                
    

        
        <div class="newsImageContainer">
            <a href="pdf-generation-with-plone-and-phantomjs/image/image_view_fullscreen.html" id="parent-fieldname-image">
               <img src="pdf-generation-with-plone-and-phantomjs/image_mini.png" alt="PDF Generation with Plone and PhantomJS" title="" height="88" width="200" class="newsImage" />
            </a>
            
        </div>

        

        <div id="parent-fieldname-text" class="plain">
            <p> </p>
<p>Here is a quick walk-through on using the newest Produce &amp; Publish Plone Client Connector together with the reimplementation of the Produce &amp; Publish Server with Plone 4.3 and Phantom.js</p>
<h3 class=" ">Installation of the Produce &amp; Publish Server</h3>
<pre class=" ">git clone https://bitbucket.org/ajung/pp.server<br />cd pp.server<br /><span>python2.7 bootstrap.py<br /></span><span>bin/buildout -c complete.cfg<br /></span><span>bin/pserve development.ini</span></pre>
<p class=" ">The buildout above already installs and configures Phantom.js automatically.</p>
<h3 class=" ">Installation of Plone 4.3 with the decent Produce &amp; Publish Plone Connector</h3>
<pre class=" ">git clone https://bitbucket.org/ajung/pp.client-plone<br /><span>cd pp.client-plone<br />python2.7 bootstrap.py<br /></span><span>bin/buildout <br /></span><span>bin/instance fg </span></pre>
<p>After starting Plone and creating a new Plone site you can for example create a PDF version of the front-page by adding @@asPDF to the URL of the related object.</p>
<p class=" ">Alternatively you can add <em>pp.client-plone</em> to the eggs section of your buildout configuration and re-run buildout afterwards. By default the Plone Client Connector will use PrinceXML (demo version )as converter (which is installed automatically with the pp.server buildout above. You can switch to PhantomJS by setting the environment variable</p>
<pre class=" ">export PP_CONVERTER=phantomjs</pre>
<p class=" ">in the shell or through buildout (check the zope2instance recipe documentation).</p>
<h3 class=" ">Example</h3>
<pre class=" ">http://host:port/plone/front-page/@@asPDF</pre>
<p class=" ">The Produce &amp; Publish Plone Client Connector has basically the same functionality of its older implementation as documented in the <a class="external-link" href="http://docs.produce-and-publish.com/" target="_self" title="">Produce &amp; Publish docs</a>.</p>
<p class=" ">All this is currently work-in-progress and their might be issues. However the core functionality has been stable for years and will now move a bit to a more modern architecture without throwing all code away. There are several known issues. Most important: all images in Plone are always exported in their original size. Image scaling is either subject to the PDF converter (e.g. by using related width/height on the CSS media=print level) or by applying a scaling transformation as part of the conversion workflows. Please read the code in this case if you want to step forward.</p>
<p class=" ">To be clear: all these components are open-source. There is nothing kept back in private. You get what you pay for also applies here regarding the PDF quality. For high-end quality you will need to use converters like PrinceXML or PDFreactor and pay for it. If you don't need features like CMYK support, PDF bookmarks and encryption etc. then you could be very happy with PhantomJS - at least PhantomJS offers a much better quality that you got so far from other tools like Apache-FOP, Reportlab, PISA, htmldoc.</p>
<p class=" ">Feedback appreciated, pull requests appreciated. Everything is on Bitbucket. Feel free to contribute...</p>
<h3 class=" "><span><br /></span></h3>
        </div>


         
    

                            </div>
                        

                      
                    </div>
                  
                </div>
                <!-- right slot -->
                <div class="span4">
                    <div></div>
                    
                        
                    
                    <div></div>
                </div>
          </div>
        </div>

        <!-- main front-page -->
        
      <div class="footer-push"></div>
    
      </section>
    </article>
    <!-- ----------------------------------- /Footer -->
    

<!-- Matomo -->
<script type="text/javascript">
  var _paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="http://matomo.zopyx.com/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '8']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->


    <script type="text/javascript" src="pdf-generation-with-plone-and-phantomjs/assets/js/jquery.js"></script>
    <script type="text/javascript" src="pdf-generation-with-plone-and-phantomjs/assets/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/jquerytools/jquery.tools.min.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/readmore/jquery.readmore.min.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/isotope/jquery.isotope.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/hyphenator/hyphenate.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/cycle/jquery.cycle.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/bxslider/jquery.bxslider.min.js"></script>


    <script type="text/javascript">
        $('.carousel').carousel({interval: 6000});
        $('.readmore').readmore({substr_len: 250});
        $('input[type="submit"]').addClass('btn btn-success');
        $('input[type="reset"]').addClass('btn btn-danger');
        if ($('body').width() > 640) {
            $('.image-cycle').cycle({fx: 'fadeZoom', speed: 1000, timeout: 5000});
            $('.bxslider').bxSlider({randomStart: true,speed: 1000, pause:4000, auto: true});
            $('.bxslider1').bxSlider({randomStart: true,speed: 1000, pause:4000, auto: true});
            $('.bxslider-pp').bxSlider({randomStart: false, mode: 'fade', speed: 1000, pause:7000, auto: true, infiniteLoop: true, controls: false});
        }  
        /*
        Hyphenator.config({
            displaytogglebox : true,
            minwordlength : 4,
            defaultlanguage: 'de',
            classname: 'content'
        });
        Hyphenator.run();
        */

        // Resize iframe.fluid (Slideshare, YouTube integration)
        $(function() {
            var $slides= $('iframe.fluid');
            $slides.each(function() {
                $(this)
                    .data('aspectRatio', this.height / this.width)
                    .removeAttr('height')
                    .removeAttr('width');
            });
            // When the window is resized
            // (You'll probably want to debounce this)
            $(window).resize(function() {

                $fluidEl = $(".media-item");
                var newWidth = $fluidEl.width() *0.9;
                
                // Resize all videos according to their own aspect ratio
                $slides.each(function() {

                    var $el = $(this);
                    $el.width(newWidth)
                       .height(newWidth * $el.data('aspectRatio'));

                });
            // Kick off one resize to fix all videos on page load
            }).resize();
        });

    </script>

    <!-- Jira feedback collector -->
    
    


  </body>

<!-- Mirrored from blog.zopyx.com/andreas-jung/contents/pdf-generation-with-plone-and-phantomjs by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 21 Sep 2020 14:17:01 GMT -->
</html>


