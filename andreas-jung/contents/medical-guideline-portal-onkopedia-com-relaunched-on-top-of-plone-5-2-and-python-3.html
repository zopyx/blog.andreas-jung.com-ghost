
    <html lang="en">
  
<!-- Mirrored from blog.zopyx.com/andreas-jung/contents/medical-guideline-portal-onkopedia-com-relaunched-on-top-of-plone-5-2-and-python-3.7 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 21 Sep 2020 14:11:25 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<base  />

    <meta charset="utf-8">
    <title> Medical guideline portal Onkopedia.com relaunched - on top of Plone 5.2 and Python 3.7 - Andreas Jung </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The company for Zope, Plone, Python, MongoDB and Electronic Publishing">
    <meta name="author" content="ZOPYX, Andreas Jung, Tuebingen, Germany">

    <link href="medical-guideline-portal-onkopedia-com-relaunched-on-top-of-plone-5-2-and-python-3.7/assets/css/bootstrap.css" rel="stylesheet">

    <style>
      body {
        padding-top: 100px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <link rel="stylesheet" href="https://blog.zopyx.com/assets/css/font-awesome.css">

    <!-- fonts -->
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700" rel="stylesheet" type="text/css">

    <link rel="stylesheet/less" type="text/css" href="https://blog.zopyx.com/assets/less/bootstrap.less" />
    <script type="text/javascript" src="https://blog.zopyx.com/assets/js/less-1.3.1.min.js"></script>

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
      <![endif]-->
    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="medical-guideline-portal-onkopedia-com-relaunched-on-top-of-plone-5-2-and-python-3.7/assets/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" src="https://blog.zopyx.com/assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" src="https://blog.zopyx.com/assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" src="https://blog.zopyx.com/assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" src="https://blog.zopyx.com/assets/ico/apple-touch-icon-57-precomposed.png">

    <link rel="stylesheet" href="https://blog.zopyx.com/assets/css/base.css">
    <link rel="stylesheet" href="https://blog.zopyx.com/bxslider/jquery.bxslider.css">


    <!-- Plone compatibility -->
    
    
  </head>

  <body data-spy="scroll" data-target=".sidebar-nav" class="section-andreas-jung context-medical-guideline-portal-onkopedia-com-relaunched-on-top-of-plone-5-2-and-python-3.7 portal-type-news-item">

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          
            
            <a class="brand" style="color: white" href="../contents.html">
              <h1>Blog of Andreas Jung</h1>
            </a>
          
          
          
          
           <form id="global-nav-search" class="navbar-search pull-right" action="https://blog.zopyx.com/andreas-jung/search">
            
            <input type="text" class="search-query" placeholder="Search" name="SearchableText" />
           </form>
        </div>
      </div>
    </div>
     <!-- /keyvisual -->
    <article>
      <section>

        <!-- main -->
        <div class="container container-main">
            
            <div class="row-fluid">
                <div></div>
            </div>
            <div class="row-fluid">
                <div class="span8">
                    
                    <div id="content">
                      

                        
                            
    <span class="label">Jun 23, 2019</span>

                            
                                
                                
            
                <h1 id="parent-fieldname-title" class="documentFirstHeading">
                    Medical guideline portal Onkopedia.com relaunched - on top of Plone 5.2 and Python 3.7
                </h1>
            
            
        
                            

                            
                                <div class="documentDescription">In the third major iteration of the Onkopedia project, ZOPYX and partners relaunched the complete onkopedia.com portal with a new fully responsive layout and an updated Plone backend based on the latest Plone 5.2 version and finally Python 3.7 under the hood.</div> 
                            

                            <div id="content-core">
                                
    

        
        <div class="newsImageContainer">
            <a href="medical-guideline-portal-onkopedia-com-relaunched-on-top-of-plone-5-2-and-python-3.7/image/image_view_fullscreen.html" id="parent-fieldname-image">
               <img src="medical-guideline-portal-onkopedia-com-relaunched-on-top-of-plone-5-2-and-python-3.7/image_mini.png" alt="Medical guideline portal Onkopedia.com relaunched - on top of Plone 5.2 and Python 3.7" title="" height="61" width="200" class="newsImage" />
            </a>
            
        </div>

        

        <div id="parent-fieldname-text" class="plain">
            <h3>Project history</h3>

<p>The Deutsche Gesellschaft für Hämatologie und medizinische Onkologie (DGHO) e.V., known in English as the German Society for Haematology and Medical Oncology, is a medical association whose goals include the training and education of doctors and medical personnel and the drafting and publication of medical guidelines. Its members include scientists and doctors specializing in the research, diagnosis and treatment of blood diseases and malignant tumors.</p>

<p>Together with other medical societies and associations from Germany, Austria and Switzerland, the DGHO operates the online guidelines portal “Onkopedia”. In addition to providing medical guide- lines, it serves a source of important specialist information for patients and carers.</p>

<p>The guidelines portal was developed by Andreas Jung and ZOPYX on behalf of the DGHO in 2010. It is based on the Produce &amp; Publish authoring environment from ZOPYX and the open source content management system Plone.</p>

<p>The guidelines portal revolutionized the work of the DGHO. In structuring and accelerating the editorial workflow, it has helped to ensure that doctors, patients and carers can obtain quick, easy, any-time access to the latest guidelines and information. Thanks to the portal, the DGHO has been able to intensify the exchange of specialist expertise and to provide clinical practitioners with an indispensable tool for quality assurance.</p>

<p>The doctors and scientists responsible for formulating the medical guidelines were not required to change their way of working. They continue to write the guidelines using Microsoft Word. A DGHO employee then checks the documents for technical suitability and feeds them into the CMS, where they are converted to HTML and - for printing purposes - to PDF.&nbsp;</p>

<h3>Project goals</h3>

<ul>
	<li>
	<p>Migration of <a href="https://onkopedia.com/">onkopedia.com</a>&nbsp;from Plone 4.3 to Plone 5.2</p>
	</li>
	<li>
	<p>Port of underlaying <a href="https://xml-director.info/">XML-Director</a> infrastructure to Plone 5.2 and Python 3.6/3.7</p>
	</li>
	<li>
	<p>Port of <a href="https://produce-and-publish.com/">Produce &amp; Publishing</a> stack to Plone 5.2 and Python 3.6/3.7</p>
	</li>
	<li>
	<p>Resign and reimplementation of the Onkopedia look &amp; feel</p>
	</li>
	<li>
	<p>Full responsiveness</p>
	</li>
	<li>
	<p>All content available across all mobile devices</p>
	</li>
	<li>
	<p>New REST backend for Onkopedia apps (<a href="https://apps.apple.com/de/app/onkopedia-leitlinienportal/id1436313123">iOS</a>, <a href="https://play.google.com/store/apps/details?id=com.onkopedia.app&amp;hl=en">Android</a>)</p>
	</li>
</ul>

<h3>Screenshots</h3>

<p><a href="IMG_2599.png"><img src="IMG_2599.png" style="border:1px solid grey; height:433px; padding-right:30px; width:200px" alt="onkopedia-new-1" title="onkopedia-new-1" /> </a> <a href="IMG_2600.png"><img src="IMG_2600.png" style="border:1px solid grey; height:433px; padding-right:30px; width:200px" alt="onkopedia-new-2" title="onkopedia-new-2" /> </a></p>

<p><a href="IMG_2601.png"><img src="IMG_2601.png" style="border:1px solid grey; height:433px; padding-right:30px; width:200px" alt="onkopedia-new-3" title="onkopedia-new-3" /> </a> <a href="IMG_2602.png"><img src="IMG_2602.png" style="border:1px solid grey; height:433px; padding-right:30px; width:200px" alt="onkopedia-new-4" title="onkopedia-new-4" /> </a></p>

<p><a href="IMG_2603.png"><img src="IMG_2603.png" style="border:1px solid grey; height:433px; padding-right:30px; width:200px" alt="onkopedia-new-5" title="onkopedia-new-5" /> </a> <a href="IMG_2604.png"><img src="IMG_2604.png" style="border:1px solid grey; height:433px; padding-right:30px; width:200px" alt="onkopedia-new-6" title="onkopedia-new-6" /> </a></p>

<h3>Project summary</h3>

<p>The migration to Plone 5.2 and Python 3 was a large step. Plone 5.2 on top of Python 3 was first demonstrated at the Plone conference 2018 in Tokyo and it was clear that we wanted to go directly to a Python 3 directly rather&nbsp; to migrate to Plone 5.2 on top of Python 2.7 first. In the first phase we had to upgrade the complete <a href="https://xml-director.info/">XML Director</a>&nbsp;and<a href="https://produce-and-publish.com/"> Produce &amp; Publish</a> stack which is the foundation of our XML based publishing solutions for many years. Fortunately the implementation of most modules have&nbsp;a good design and porting them to Python 3 was more about changing imports than doing any reimplementation work. The standard migration problems were related to encoding and IO issues - things which are handled different in Python 2 and Python 3. We intentionally dropped support for Python 2 rather than making the code base compatible with Python 2 and 3. Python 2 is dead and it does not make sense for our own business cases to support Python2 in the future.</p>

<p>Porting the<a href="https://onkopedia.com/"> onkopedia.com</a> itself to Plone 5.2 and Python 3 was almost pretty easy since it was already based on Dexterity.&nbsp;</p>

<p>Some efforts went into the implementation of <a href="https://pypi.org/project/xmldirector.connector/">xmldirector.connector</a> as an updated version of <a href="https://pypi.org/project/xmldirector.plonecore">xmldirector.plonecore</a>. xmldirector.connector is now based on Python 3 and based on <a href="https://pypi.org/project/fs/">PyFilesystem 2</a> and therefore ready for future challenges.</p>

<p>The responsive frontend is a complete redesign and was implemented using Diazo and Bootstrap.</p>

<p>The content migration was implemented on the Plone side using our own migration process with is basically a full export/full import solution over plone.restapi which was developed over the last years as part of other Plone migration projects for our own customers.&nbsp; Onkopedia used to use the&nbsp; XML database <a href="http://exist-db.org/">eXistDB</a>&nbsp;for storing all the XML related content. For technical reasons we abandoned&nbsp;eXistDB and moved over to a filesystem based storage. This change was painless because the <a href="https://onkopedia.com/">onkopedia.com </a>application and the underlaying XML-Director implementation allowed us to abstract the storage layer and basically change the storage location by just switching the storage URL - no further code changes necessary! In the mid-future we plan to use FusionDB as storage layer for XML-based publishing solutions. <a href="https://fusiondb.com/">FusionDB</a> is based on the ideas and partly on the code base of eXistDB but with a modern storage layer based on <a href="https://rocksdb.org/">RocksDB</a>.</p>

<p>The Onkopedia contents is also available through the Onkopedia Apps ((<a href="https://apps.apple.com/de/app/onkopedia-leitlinienportal/id1436313123">iOS</a>, <a href="https://play.google.com/store/apps/details?id=com.onkopedia.app&amp;hl=en">Android</a>). The apps are backed by the original Onkopedia content. For technical reasons we export the Onkopedia content several times a day and make them&nbsp;available to the apps over a small REST API. The Onkopedia apps allow the users to access the content offline which is needed e.g. in hospitals which thick walls, underground offices&nbsp; with limited or no network connectivity.</p>

<h3>References</h3>

<ul>
	<li>
	<p><a href="https://www.produce-and-publish.com/showcase/references">Complete list of reference related to Produce &amp; Publish and XML-Director</a></p>
	</li>
	<li>
	<p><a href="https://www.xml-director.info/files/Onkopedia-EN.pdf">Onkopedia Case study - XML-based publishing with Plone, Exist-DB and XML-Director</a></p>
	</li>
	<li>
	<p><a href="https://www.xml-director.info/files/Onkopedia-DE.pdf">Onkopedia Case study - XML-based publishing with Plone, Exist-DB and XML-Director (German)</a></p>
	</li>
</ul>

<h3>Project partners</h3>

<ul>
	<li>
	<p><a href="https://zopyx.com/">ZOPYX</a></p>

	<ul>
		<li>
		<p>backend</p>
		</li>
		<li>
		<p>requirements engineering</p>
		</li>
		<li>
		<p>project management</p>
		</li>
	</ul>
	</li>
	<li>
	<p><a href="https://abstract-technology.de/">Abstract Technology</a></p>

	<ul>
		<li>
		<p>frontend design and implementation</p>
		</li>
	</ul>
	</li>
	<li>
	<p><a href="http://www.appweeve.com/">Appweeve</a></p>

	<ul>
		<li>
		<p>Onkopedia App</p>
		</li>
	</ul>
	</li>
	<li>
	<p><a href="http://www.practice-innovation.de/">practice innovation</a></p>

	<ul>
		<li>
		<p>XML workflows and DOCX conversion</p>
		</li>
		<li>
		<p><a href="https://c-rex.net/" style="font-size: 12.8px;">C-rex.net</a></p>
		</li>
	</ul>
	</li>
	<li>
	<p><a href="https://www.ityou.de/">IT.YOU</a></p>

	<ul>
		<li>
		<p>Hosting and administration</p>
		</li>
	</ul>
	</li>
</ul>

        </div>


         
    

                            </div>
                        

                      
                    </div>
                  
                </div>
                <!-- right slot -->
                <div class="span4">
                    <div></div>
                    
                        
                    
                    <div></div>
                </div>
          </div>
        </div>

        <!-- main front-page -->
        
      <div class="footer-push"></div>
    
      </section>
    </article>
    <!-- ----------------------------------- /Footer -->
    

<!-- Matomo -->
<script type="text/javascript">
  var _paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="http://matomo.zopyx.com/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '8']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->


    <script type="text/javascript" src="medical-guideline-portal-onkopedia-com-relaunched-on-top-of-plone-5-2-and-python-3.7/assets/js/jquery.js"></script>
    <script type="text/javascript" src="medical-guideline-portal-onkopedia-com-relaunched-on-top-of-plone-5-2-and-python-3.7/assets/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/jquerytools/jquery.tools.min.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/readmore/jquery.readmore.min.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/isotope/jquery.isotope.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/hyphenator/hyphenate.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/cycle/jquery.cycle.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/bxslider/jquery.bxslider.min.js"></script>


    <script type="text/javascript">
        $('.carousel').carousel({interval: 6000});
        $('.readmore').readmore({substr_len: 250});
        $('input[type="submit"]').addClass('btn btn-success');
        $('input[type="reset"]').addClass('btn btn-danger');
        if ($('body').width() > 640) {
            $('.image-cycle').cycle({fx: 'fadeZoom', speed: 1000, timeout: 5000});
            $('.bxslider').bxSlider({randomStart: true,speed: 1000, pause:4000, auto: true});
            $('.bxslider1').bxSlider({randomStart: true,speed: 1000, pause:4000, auto: true});
            $('.bxslider-pp').bxSlider({randomStart: false, mode: 'fade', speed: 1000, pause:7000, auto: true, infiniteLoop: true, controls: false});
        }  
        /*
        Hyphenator.config({
            displaytogglebox : true,
            minwordlength : 4,
            defaultlanguage: 'de',
            classname: 'content'
        });
        Hyphenator.run();
        */

        // Resize iframe.fluid (Slideshare, YouTube integration)
        $(function() {
            var $slides= $('iframe.fluid');
            $slides.each(function() {
                $(this)
                    .data('aspectRatio', this.height / this.width)
                    .removeAttr('height')
                    .removeAttr('width');
            });
            // When the window is resized
            // (You'll probably want to debounce this)
            $(window).resize(function() {

                $fluidEl = $(".media-item");
                var newWidth = $fluidEl.width() *0.9;
                
                // Resize all videos according to their own aspect ratio
                $slides.each(function() {

                    var $el = $(this);
                    $el.width(newWidth)
                       .height(newWidth * $el.data('aspectRatio'));

                });
            // Kick off one resize to fix all videos on page load
            }).resize();
        });

    </script>

    <!-- Jira feedback collector -->
    
    


  </body>

<!-- Mirrored from blog.zopyx.com/andreas-jung/contents/medical-guideline-portal-onkopedia-com-relaunched-on-top-of-plone-5-2-and-python-3.7 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 21 Sep 2020 14:11:29 GMT -->
</html>


