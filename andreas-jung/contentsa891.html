
    <html lang="en">
  
<!-- Mirrored from blog.zopyx.com/andreas-jung/contents?b_start:int=40 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 21 Sep 2020 14:23:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<base  />

    <meta charset="utf-8">
    <title> Blog Andreas Jung - Andreas Jung </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The company for Zope, Plone, Python, MongoDB and Electronic Publishing">
    <meta name="author" content="ZOPYX, Andreas Jung, Tuebingen, Germany">

    <link href="contents/assets/css/bootstrap.css" rel="stylesheet">

    <style>
      body {
        padding-top: 100px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <link rel="stylesheet" href="https://blog.zopyx.com/assets/css/font-awesome.css">

    <!-- fonts -->
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700" rel="stylesheet" type="text/css">

    <link rel="stylesheet/less" type="text/css" href="https://blog.zopyx.com/assets/less/bootstrap.less" />
    <script type="text/javascript" src="https://blog.zopyx.com/assets/js/less-1.3.1.min.js"></script>

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
      <![endif]-->
    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="contents/assets/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" src="https://blog.zopyx.com/assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" src="https://blog.zopyx.com/assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" src="https://blog.zopyx.com/assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" src="https://blog.zopyx.com/assets/ico/apple-touch-icon-57-precomposed.png">

    <link rel="stylesheet" href="https://blog.zopyx.com/assets/css/base.css">
    <link rel="stylesheet" href="https://blog.zopyx.com/bxslider/jquery.bxslider.css">


    <!-- Plone compatibility -->
    
    
  </head>

  <body data-spy="scroll" data-target=".sidebar-nav" class="section-andreas-jung context-contents portal-type-folder">

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          
            
            <a class="brand" style="color: white" href="contents.html">
              <h1>Blog of Andreas Jung</h1>
            </a>
          
          
          
          
           <form id="global-nav-search" class="navbar-search pull-right" action="https://blog.zopyx.com/andreas-jung/search">
            
            <input type="text" class="search-query" placeholder="Search" name="SearchableText" />
           </form>
        </div>
      </div>
    </div>
     <!-- /keyvisual -->
    <article>
      <section>

        <!-- main -->
        <div class="container container-main">
            
            <div class="row-fluid">
                <div></div>
            </div>
            <div class="row-fluid">
                <div class="span12">
                    
                    <div id="content">
                      
      

      <a class="label" href="contents/collection.html">
        Overview over all blog items
      </a>

            

      <p class="documentDescription">
        
        <span class="" id="parent-fieldname-description-c568bd3bf1fc41ec8bda748b6ea239ac">
            
        </span>
    
        <span class="visualClear"><!-- --></span>
      </p>
      
      
      
      
      
      <span class="visualClear"><!-- --></span>         
      
      <div id="blog-listing">
        <div class="listingBar">

    <span class="previous">
        <a href="contents2c2f.html?b_start:int=30">
           &laquo;
           
               Previous
               10
               items
           
        </a>
    </span>

    <span class="next">
        <a href="contents83cb.html?b_start:int=50">
           
               Next
               10
               items
           
           &raquo;
        </a>
    </span>

    
    <span>
        <a href="contents51a2.html?b_start:int=0">1</a>
        
    </span>

    

    
    
        <a href="contentsabcf.html?b_start:int=10">2</a>
    
    
        <a href="contents8c63.html?b_start:int=20">3</a>
    
    
        <a href="contents2c2f.html?b_start:int=30">4</a>
    

    
    <span class="current">5</span>

    
    
        <a href="contents83cb.html?b_start:int=50">6</a>
    
    
        <a href="contents3849.html?b_start:int=60">7</a>
    
    
        <a href="contents7589.html?b_start:int=70">8</a>
    

    

    
    <span>
        
        &hellip;
        
        <a href="contentsdf72.html?b_start:int=200">21</a>
    </span>

</div>
      
        
          <div class="blog-item">
            


  
  
  
    <div class="row">  
        <div class="span12">
            <span class="label">Feb 05, 2015</span>
            <h1 class="documentFirstHeading"><a href="contents/on-docker-security-docker-group-considered-harmful.html">
        <span class="" id="parent-fieldname-title-948abdf1eec04af8a46dd8dcbe117db0">
            On Docker security: 'docker' group considered harmful
        </span>
    </a></h1>
            <h4 class="documentDescription">
        <span class="" id="parent-fieldname-description-948abdf1eec04af8a46dd8dcbe117db0">
            
        </span>
    </h4>
        </div>
    </div>
    <div class="row">  
        <div class="span12 blog-content">
            

        
        <div class="newsImageContainer">
            <a href="contents/on-docker-security-docker-group-considered-harmful/image/image_view_fullscreen.html" id="parent-fieldname-image">
               <img src="contents/on-docker-security-docker-group-considered-harmful/image_mini.png" alt="On Docker security: 'docker' group considered harmful" title="" height="178" width="200" class="newsImage" />
            </a>
            
        </div>

        

        <div id="parent-fieldname-text" class="plain">
            <p>If you are member of the UNIX 'docker' must be considered harmful. Being member of the 'docker' group is not unusual because it gives you the right to build and execute containers as normal user but it also gives you full root access rights which I consider as a major security issue and a broken-by-design feature.</p>

<p>By default I can not access /etc/shadow because it is only readable by root or group wheel:</p>

<p style="margin-left:40px"><tt><code>ajung@demo:~$ who am i<br />
ajung &nbsp; &nbsp;pts/2 &nbsp; &nbsp; &nbsp; &nbsp;Feb &nbsp;5 07:03&nbsp;</code></tt></p>

<p style="margin-left:40px"><tt><code>ajung@demo:~$ groups<br />
ajung docker</code></tt></p>

<p style="margin-left:40px"><br />
<tt><code>ajung@demo:~$ ls -la /etc/shadow<br />
-rw-r----- 1 root shadow 897 Jan 25 10:05 /etc/shadow</code></tt></p>

<p style="margin-left:40px"><br />
<tt><code>ajung@demo:~$ cat /etc/shadow<br />
cat: /etc/shadow: Permission denied</code></tt></p>

<p><span style="font-size:12.8000011444092px">Now I create a simple Docker image that exposes /data as mount point for a volume</span></p>

<p style="margin-left:40px"><code>FROM phusion/baseimage<br />
VOLUME /data</code></p>

<p>Now I can start the container and attach any local filesystem to the container and access it with full root rights.</p>

<p>In this case I can easily access the content of the formerly protected /etc/shadow file</p>

<p style="margin-left:40px"><code>ajung@demo:~$ docker run -v /etc:/data zopyx/test cat /data/shadow<br />
root:$6$rnW9d.................awVOOsWtCb41DY01:16457:0:99999:7:::<br />
daemon:*:16457:0:99999:7:::<br />
bin:*:16457:0:99999:7:::<br />
sys:*:16457:0:99999:7:::<br />
sync:*:16457:0:99999:7:::<br />
games:*:16457:0:99999:7:::</code></p>

<p>I can also create content on a root filesystem as standard user&nbsp;</p>

<p style="margin-left:40px"><code>ajung@demo:~$ docker run -v /etc:/data zopyx/test touch /data/hello-world.txt<br />
ajung@demo:~$ ls -la /etc/hello-world.txt<br />
-rw-r--r-- 1 root root 0 Feb &nbsp;5 07:36 /etc/hello-world.txt</code></p>

<p>The whole Docker security concept (is there a security concept?) appears completely broken.</p>

<p>So user accounts belonging to the UNIX group 'docker' are fully exploitable. Standard UNIX users can gain elevated rights on the local machine if they belong to the 'docker' group and can perhaps exploit other machines as well by tampering SSH keys etc....many attack vectors are possible.</p>

<h2>Update (2015-02-05, 16:00 UTC)</h2>

<p>The discovered behavior is in fact intentional and documented in the <a href="https://docs.docker.com/articles/security/#docker-daemon-attack-surface">Docker security documentation</a>. The first sentence is already completely broken.</p>

<p style="text-align:center"><strong>"Only trusted users should be allowed to control your Docker daemon"</strong></p>

<p>Building a&nbsp;secure IT system on human trust is fundamentally broken. A secure system must be build on the best technology practices. A human is always a weak factor when it comes to security.</p>

<p>Another point: the default security policy (if there is one?) is: everything is allowed, you are root, dropping the priviledges as needed is up to you. Complete improper approach. A secure system must be as closed as possible by default and give the container only the rights and capabilities that it really needs.&nbsp;</p>

<p>And yet another point: as standard user it is by design not possible to gain root permissions (except using sudo). The problem once again arises from the 'docker' group being practically root. An attacker might get hold of my SSH keys and login into a dockerized box. With the described attach vector an intruder has an easy game getting through Docker. The preassumption <strong>"Only trusted users should be allowed to control your Docker daemon"&nbsp;</strong>&nbsp;is therefore just wrong and the security concept of Docker is broken.</p>

<p>Docker leaves security to the user and administrators instead of providing a secure way for building secure containers for deployment. Instead Docker should be better compared to a rootkit generator.</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

        </div>


         
    
        </div>
    </div>
    <hr />
  



            
          </div>
        
        
          <div class="blog-item">
            


  
  
  
    <div class="row">  
        <div class="span12">
            <span class="label">Jan 22, 2015</span>
            <h1 class="documentFirstHeading"><a href="contents/the-case-against-docker.html">
        <span class="" id="parent-fieldname-title-5f0de867e5f34fa2a8143fc7bf28f53a">
            The case against Docker
        </span>
    </a></h1>
            <h4 class="documentDescription">
        <span class="" id="parent-fieldname-description-5f0de867e5f34fa2a8143fc7bf28f53a">
            Trying to use Docker for production for several week finally ended in the decision to let Docker for the moment.
        </span>
    </h4>
        </div>
    </div>
    <div class="row">  
        <div class="span12 blog-content">
            

        
        <div class="newsImageContainer">
            <a href="contents/the-case-against-docker/image/image_view_fullscreen.html" id="parent-fieldname-image">
               <img src="contents/the-case-against-docker/image_mini.png" alt="The case against Docker" title="" height="178" width="200" class="newsImage" />
            </a>
            
        </div>

        

        <div id="parent-fieldname-text" class="plain">
            <p>Over the last week I tried to use Docker in production for the following usecases:</p>

<ul>
	<li>putting eXist-db into a container for the <a href="http://www.dgho-onkopedia.de/">Onkopedia</a> relaunch in order to simply the eXist-db installation and adminstration (prod, dev, staging)</li>
	<li>putting Plone 4.3 and eXist-db into a container for having an easy way to manage a demo instance of <a href="http://www.xml-director.info/">XML Director</a></li>
	<li>using eXist-db and Base-X in containers in order test the XML Director backend against different XML database backends in an automatized way</li>
</ul>

<p>This blog post summerizes the former blog posts (<a href="https://www.andreas-jung.com/contents/docker-experience-with-plone">link</a>, <a href="https://www.andreas-jung.com/contents/why-docker-is-broken-at-the-moment">link</a>)&nbsp;about Docker.&nbsp;</p>

<h3>Docker is not very developer friendly</h3>

<p>For production we installed a decent VM running CentOS 7 with a recent kernel version (3.10) that is supported by Docker. I recreated the related Docker images on the deployment box from scratch. The bad experience discussed in my former blog posts remained. A typical build under Docker was &nbsp;5-10 times slower than executing the same scripts and code on the same machine directly under the shell. Pushing the three images - each about 1.3 GB in size - took more than two hours. I have seen that one layer of an image got pushed with a decent speed close to our bandwith limit &nbsp;while the next layer crawled over the net with 500 KB per second...completely unpredicatable push behavior. The same behavior was reproducible on a different host in a different data center. Pulling the images on a different host also showed same downstream&nbsp;issues with the Docker registry - completely useless and time consuming.</p>

<p>But anyway...running the Docker images on the host caused the next surprise. Starting exist-db, executing a small Plone script for site setup and finally starting the Plone instance takes about ten minutes (under one minute without Docker). The complete virtual machine became very unresponsive during that time with a CPU load going through the roof of up to 10 with no jobs running on the VM except this Docker container. But anyway...I proceeded to the next Docker container and tried to run Base-X and eXist-db. There was a mistake in one of the Dockerfiles and I had to re-run the build for eXist-db. This build suddently failed while running apt-get inside the build....network issues. I checked the log and discovered some issues with the iptables. Not being a network guru I filed a bug report on the Docker repo @Github. It turned out that the Docker chain within iptables configuration got lost and therefore the complete network functionality of the Docker build failed. Nobody could told me where and why this happened. The only manual change done earlier was to add port 80 to the list of public ports - perhaps something was happening here. The only solution to get around the problem is to restart Docker. But restarting Docker also means that your containers go away and need to get restart - major pain in the ass factor...why is Docker so stupid and monolithic that containers can not continue to run? This is bad application design.</p>

<h3>Containers are for software, not for data</h3>

<p>Docker containers are consumables. Docker containers should be used to scale applications, for firing more app servers with the same setup etc. However Docker guys and fan boys want to put data into containers and speak of data containers. What the fuck? Data belongs onto the filesystem but not into a container that can neither be cloneed in an easy way nor incrementally backed up in a reasonable way. Containers are for software, not for data.</p>

<h3>Docker made me inefficient, Docker blocks my daily work</h3>

<p>The slowness of Docker is a big pain. Build and deployment procedures are not predictable. Even with only three or four images on the system I need with something like thirty containers and images on the system (docker ps -a, docker images). There is not even a producedure for cleaning up the mess on the system except fiddling around with something like</p>

<p><span class="discreet">docker rm $(docker ps -a -q)<br />
docker rmi $(docker images -q)</span></p>

<p>Docker needed around 7-10 seconds per image/container removal..The overall cleanup operation took several minutes. Oh well, stopping the docker daemon and removing /var/lib/docker manually is much faster in reality.</p>

<h3>Conclusions</h3>

<p>Containers are great and provide the right abstraction layers for running applications in production.&nbsp;</p>

<p>The theory and ideas behind Docker are great, its architecture and&nbsp;implementation is a mess. Docker is completely unusable in production. It is unreliable, it is unpredictable, it is flaky. The idea working with filesystem layers is great but in reality it sucks (push &amp; pull of 30-40 layers takes a lot of time - at least with the current way how it is implemented). The idea of Docker file is great but in reality it sucks (you can not re-run the build from a certain step without fiddling inside the Dockerfile). Especially with Plone buildouts it takes a long time for re-running a dockerized buildout without the chance of using buildout caches in some way).</p>

<p>Other options? CoreOS came out with its Rocket approach some weeks ago...too new in order to consider it for production at this time. Rocket looks promising but well thought (compared to Docker) but far away from being ready for prime time. Vagrant is a nice way for deploying to virtual machines however this is not the level granularity we are all waiting for. NixOS with NIX package manager? The Nix package manager looks nice and powerfull and I heard only good things about Nix but I am not sure how this solves this issue with isolated environment &nbsp;and how this plays together with containers - especially NixOS is a black box right now and I need to look deeper into its functionality and features. For now: back to old-style deployments.&nbsp;</p>

<p>A big sigh.....</p>

<p>&nbsp;</p>

        </div>


         
    
        </div>
    </div>
    <hr />
  



            
          </div>
        
        
          <div class="blog-item">
            


  
  
  
    <div class="row">  
        <div class="span12">
            <span class="label">Jan 11, 2015</span>
            <h1 class="documentFirstHeading"><a href="contents/xml-director-project-website-launched.html">
        <span class="" id="parent-fieldname-title-31eeb6e609d247a7a046122a2992725d">
            XML Director project website launched
        </span>
    </a></h1>
            <h4 class="documentDescription">
        <span class="" id="parent-fieldname-description-31eeb6e609d247a7a046122a2992725d">
            XML Director finally has its own website!
        </span>
    </h4>
        </div>
    </div>
    <div class="row">  
        <div class="span12 blog-content">
            

        
        <div class="newsImageContainer">
            <a href="contents/xml-director-project-website-launched/image/image_view_fullscreen.html" id="parent-fieldname-image">
               <img src="contents/xml-director-project-website-launched/image_mini.png" alt="XML Director project website launched" title="" height="36" width="200" class="newsImage" />
            </a>
            
        </div>

        

        <div id="parent-fieldname-text" class="plain">
            

<p>I am pleased to announce that the XML Director project has now its own polished website with updated information about the project, scope of the project and development information.<br />
<br />
The site is available under&nbsp;<a href="https://xml-director.info/?utm_source=XML-Director&amp;utm_campaign=dd221aec9d-XML_Director_Newsletter_112_14_2014&amp;utm_medium=email&amp;utm_term=0_85754d15f7-dd221aec9d-" style="color: rgb(109, 198, 221); word-wrap: break-word; text-decoration: underline;" target="_blank">https://xml-director.info</a></p>

<p><span style="font-family:helvetica; font-size:15px">The development of XML Director made some internal progress over the few weeks - basically the time over christmas was used to think about the design and technical issues. However all of internal code was refactored, the test coverage improved significantly and the documentation of the project was updated.</span><br />
<span style="font-family:helvetica; font-size:15px">In addition we will release a&nbsp;</span><a href="http://www.docker.io/?utm_source=XML-Director&amp;utm_campaign=dd221aec9d-XML_Director_Newsletter_112_14_2014&amp;utm_medium=email&amp;utm_term=0_85754d15f7-dd221aec9d-" style="color: rgb(109, 198, 221); font-family: Helvetica; font-size: 15px; line-height: 22.5px; word-wrap: break-word; text-decoration: underline;" target="_blank">Docker</a><span style="font-family:helvetica; font-size:15px">&nbsp;based demo shortly and provide access to an online demo showing the basic functionality of the current implementation:</span></p>

<ul>
	<li>programmatic content-types</li>
	<li>through-the-web content-types</li>
	<li>XSLT registry</li>
	<li>custom views for XML content</li>
</ul>

<p><span style="font-family:helvetica; font-size:15px">If you are interested in XML Director then you get directly in touch with me either this month in Berlin (16-26.1.2015) or meet me at XML Prague in February (where I will talk about PDF generation based on CSS Paged Media).</span></p>

        </div>


         
    
        </div>
    </div>
    <hr />
  



            
          </div>
        
        
          <div class="blog-item">
            


  
  
  
    <div class="row">  
        <div class="span12">
            <span class="label">Jan 10, 2015</span>
            <h1 class="documentFirstHeading"><a href="contents/why-docker-is-broken-at-the-moment.html">
        <span class="" id="parent-fieldname-title-f1df0c24c3e64506afd5c5f557cec33d">
            Why Docker is broken at the moment
        </span>
    </a></h1>
            <h4 class="documentDescription">
        <span class="" id="parent-fieldname-description-f1df0c24c3e64506afd5c5f557cec33d">
            
        </span>
    </h4>
        </div>
    </div>
    <div class="row">  
        <div class="span12 blog-content">
            

        
        <div class="newsImageContainer">
            <a href="contents/why-docker-is-broken-at-the-moment/image/image_view_fullscreen.html" id="parent-fieldname-image">
               <img src="contents/why-docker-is-broken-at-the-moment/image_mini.png" alt="Why Docker is broken at the moment" title="" height="47" width="200" class="newsImage" />
            </a>
            
        </div>

        

        <div id="parent-fieldname-text" class="plain">
            <p>Docker is broken right now in many ways.</p>

<ul>
	<li>Docker images are huge (typically for me in the range of 1 to 1.5 GB each)</li>
	<li>Pushing and pulling Docker images to/from the Docker registry&nbsp;is slow - even if you push/pull only new layers. Nobody on the Docker forums could explain the widely differing loading times of layers (from slow to fast)</li>
	<li>There is no trivial way to replicate Docker containers.</li>
	<li>The concept of data containers is as long broken as there are no reasonable way to replicate and backup data containers. There is no trivial way for moving data between containers.</li>
	<li>Backup methods specific to certain services do no longer work on the container level.</li>
	<li>Docker builds are slow (even on fast machines).</li>
	<li>Monitoring Docker containers is not trivial and hard to achieve. Our fat development server feels sluggish with a high load running only 3 Docker containers. I currently do not see obvious options for tracking down the real issue.</li>
	<li>Docker runs stable (or not )depending on the underlaying Linux distro and kernel. I can not find any officially supported recommendations for distros and kernels.</li>
	<li>The Docker registry is a huge bag of unsorted Docker image crap - it feels like the early PyPI years where every @@@@@ felt the power to upload every crap into the wild.</li>
</ul>

<p>I am still using Docker for a few usecases like providing a demo instance for XML Director or for having containers with Base-X and eXist-db used for running unittests.</p>

<p>Docker has potential but it has many serious issues. Of course the Docker fan boys will crucify me for this post. Also looking into CoreOS Rocket over the next days however Docker feels much more mature than Rocket but Rocket also has to start from somewhere...the concepts of Rocket appear more well thought than Docker, the MongoDB of virtualization.</p>

<p>End-of-my-Docker-rant.</p>

        </div>


         
    
        </div>
    </div>
    <hr />
  



            
          </div>
        
        
          <div class="blog-item">
            


  
  
  
    <div class="row">  
        <div class="span12">
            <span class="label">Dec 29, 2014</span>
            <h1 class="documentFirstHeading"><a href="contents/speaking-at-xml-prague.html">
        <span class="" id="parent-fieldname-title-1d590f83a47343dc98fdd82ae8f6acf6">
            Speaking at XML Prague
        </span>
    </a></h1>
            <h4 class="documentDescription">
        <span class="" id="parent-fieldname-description-1d590f83a47343dc98fdd82ae8f6acf6">
            
        </span>
    </h4>
        </div>
    </div>
    <div class="row">  
        <div class="span12 blog-content">
            

        
        <div class="newsImageContainer">
            <a href="contents/speaking-at-xml-prague/image/image_view_fullscreen.html" id="parent-fieldname-image">
               <img src="contents/speaking-at-xml-prague/image_mini.png" alt="Speaking at XML Prague" title="" height="40" width="200" class="newsImage" />
            </a>
            
        </div>

        

        <div id="parent-fieldname-text" class="plain">
            <p>I am pleased to announce that I will speak at <strong><a href="http://www.xmlprague.cz/">XML Prague 2015</a></strong>&nbsp;from 13-15 February&nbsp;about</p>

<p><strong><span style="font-family:arial,sans-serif">"Publishing with CSS Paged Media - A review of existing tools and techniques"</span></strong></p>

<h3>References</h3>

<ul>
	<li><a href="http://www.xmlprague.cz/">http://www.xmlprague.cz/</a></li>
</ul>

<p>&nbsp;</p>

        </div>


         
    
        </div>
    </div>
    <hr />
  



            
          </div>
        
        
          <div class="blog-item">
            


  
  
  
    <div class="row">  
        <div class="span12">
            <span class="label">Dec 18, 2014</span>
            <h1 class="documentFirstHeading"><a href="contents/docker-experience-with-plone.html">
        <span class="" id="parent-fieldname-title-a88bce39509d48c7be33986470e5ff4a">
            Docker experience with Plone
        </span>
    </a></h1>
            <h4 class="documentDescription">
        <span class="" id="parent-fieldname-description-a88bce39509d48c7be33986470e5ff4a">
            
        </span>
    </h4>
        </div>
    </div>
    <div class="row">  
        <div class="span12 blog-content">
            

        
        <div class="newsImageContainer">
            <a href="contents/docker-experience-with-plone/image/image_view_fullscreen.html" id="parent-fieldname-image">
               <img src="contents/docker-experience-with-plone/image_mini.png" alt="Docker experience with Plone" title="" height="47" width="200" class="newsImage" />
            </a>
            
        </div>

        

        <div id="parent-fieldname-text" class="plain">
            <p>I have been working with Docker over the fews in order build a demo system for <a href="http://xml-director.info/">XML Director</a>. Docker in general looks nice and promising but there are lot of things that cause some headaches:</p>

<ul>
	<li>incremental builds with caching is a nice feature in theory. In real life you often have to make changes at the begin of the Dockerfile and the complete build dance starts from scratch</li>
	<li>Docker builds are slow</li>
	<li>Pushing an image&nbsp;is slow</li>
	<li>Pulling and updating images is slow and unreliable</li>
	<li>Various kernel panics on OpenSuse 13.1 (no crashes with CentOS 6)</li>
	<li>Docker "internal" corruptions that could be resolved only by removing the local /var/lib/docker folder</li>
	<li>It is not possible to start a build at a certain point within the Dockerfile without some tricks</li>
	<li>Fiddeling a buildout configuration takes a lot of time because you can not make use of buildout caches without tricks</li>
	<li>Docker images can be big. In my case the XML Director image with Plone and eXist-db ended up with a final size of 2.1 GB</li>
	<li>from reading/hearing: Docker had several severe security issues in the past</li>
</ul>

<p>Docker is a new project and moving and evolving at fast lightspeed. That's why it is important keeping an eye on it.&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

        </div>


         
    
        </div>
    </div>
    <hr />
  



            
          </div>
        
        
          <div class="blog-item">
            


  
  
  
    <div class="row">  
        <div class="span12">
            <span class="label">Dec 09, 2014</span>
            <h1 class="documentFirstHeading"><a href="contents/announcing-the-xml-director-xml-cms-project.html">
        <span class="" id="parent-fieldname-title-8b112a516a6f49e784c5c835e161166b">
            Announcing the "XML-Director" XML CMS project
        </span>
    </a></h1>
            <h4 class="documentDescription">
        <span class="" id="parent-fieldname-description-8b112a516a6f49e784c5c835e161166b">
            XML-Director will be a new-generation XML content management system based on the Plone 5 CMS with either eXist-db or Base-X as backend. Additional components will provide DOCX to XML  and  XML/HTML to PDF/EPub conversion, support for desktop and web-based XML editors.  
        </span>
    </h4>
        </div>
    </div>
    <div class="row">  
        <div class="span12 blog-content">
            

        
        

        

        <div id="parent-fieldname-text" class="plain">
            <p><img src="contents/logo-small-transparent.png/image_preview.png" alt="" style="height:72px; width:400px" title="XML-Director Logo" /></p>

<p>&nbsp;</p>

<p>I am pleased to announce the start of a new big project in 2015: <a href="http://xml-director.info/"><strong>XML Director</strong></a></p>

<p><strong>XML-Director</strong> will be a new generation XML content-management-system&nbsp;focused on</p>

<ul>
	<li>openness</li>
	<li>easy-to-use</li>
	<li>flexibility</li>
	<li>combining the best technologies on the market into a superb XML&nbsp;solution</li>
</ul>

<p>Based on almost 20 years of experience in the electronic publishing and publisher business and based on our experience with Produce &amp; Publish over the last years it is time to bring our tools to the next level.&nbsp;</p>

<h3>What will XML-Director be?</h3>

<ul>
	<li>First, XML-Director will be a classical open-source project open to everyone interested in Plone, XML, CMS, PDF, EPub, conversions etc.</li>
	<li>A classical CMS solution for XML content with Plone as the basis. Plone's content-type framework Dexterity makes it very easy to create new XML-ish content-types either through code or through the web. The existing core feature of Plone like security, role-based user management, fine-grained security model will be full available within XML-Director.</li>
	<li>XML-Director will be a storage for XML content (from small to large). XML-Director will support out-of-the-box both XML databases eXist-db and Base-X.</li>
	<li>DOCX to XML conversion: XML-Director will provide a pluggable API for integrating external conversion services like C-REX or solutions build on top of open-source software like LibreOffice encapsulated through a webservice. Our goal is to provide out-of-the-box conversion support of DOCX to Docbook and DITA.</li>
	<li>PDF generation will be based on our Produce &amp; Publish solution that exists now for many years with PDFreactor and PrinceXML as primary converters. However free solutions like WKHTMLTOPDF will also remain supported. In addition we are looking into further PDF conversion options like Antennahouse Formatter and Speedata Publisher.</li>
	<li>Configurable content-types</li>
	<li>Support for XML metadata either in Plone or XML or mixed</li>
</ul>

<h3>Usecases for XML-Director</h3>

<ul>
	<li>Technical documentation</li>
	<li>Authoring and production of guideline documents, SOPs etc.</li>
	<li>classical XML production and publishing workflows</li>
</ul>

<h3>Technical foundation</h3>

<ul>
	<li>Plone CMS (version 4.3 and later 5.X)</li>
	<li>eXist-db or Base-X</li>
	<li>ElasticSearch</li>
	<li>PDF conversion: PDFreactor, PrinceXML, WKTOHTMLPDF</li>
	<li>EPub conversion: Calibre, custom implementation</li>
	<li>DOCX conversion/import: C-REX, custom implementation</li>
</ul>

<h3>Development approach</h3>

<ul>
	<li>All modules of XML-Director will be freely available as&nbsp;open-source (GPL2) &nbsp;on <a href="https://github.com/xml-director">Github</a>&nbsp;</li>
	<li>Exceptions:
	<ul>
		<li>specific custom solutions build on top of XML-Director where confidentiality is an issue</li>
		<li>commercial converters like PrinceXML or PDFreactor</li>
	</ul>
	</li>
	<li>Everyone is invited to participate the project. The code is on Github: fork it and improve it</li>
</ul>

<h3>References</h3>

<ul>
	<li><a href="http://xml-director.info/#">Website</a>&nbsp;(very preliminary)</li>
	<li><a href="http://blog.xml-director.info/">Project blog</a></li>
	<li><a href="http://github.com/xml-director">XML-Director@Github</a></li>
</ul>

<p>&nbsp;</p>

<p>&nbsp;</p>

        </div>


         
    
        </div>
    </div>
    <hr />
  



            
          </div>
        
        
          <div class="blog-item">
            


  
  
  
    <div class="row">  
        <div class="span12">
            <span class="label">Dec 06, 2014</span>
            <h1 class="documentFirstHeading"><a href="contents/moving-on-with-plone-and-exist-db-integration.html">
        <span class="" id="parent-fieldname-title-b73df07790c04115a240058d2221d817">
            Moving on with Plone and eXist-db integration
        </span>
    </a></h1>
            <h4 class="documentDescription">
        <span class="" id="parent-fieldname-description-b73df07790c04115a240058d2221d817">
            Four new XML related Dexterity fields
        </span>
    </h4>
        </div>
    </div>
    <div class="row">  
        <div class="span12 blog-content">
            

        
        <div class="newsImageContainer">
            <a href="contents/moving-on-with-plone-and-exist-db-integration/image/image_view_fullscreen.html" id="parent-fieldname-image">
               <img src="contents/moving-on-with-plone-and-exist-db-integration/image_mini.png" alt="Moving on with Plone and eXist-db integration" title="" height="120" width="200" class="newsImage" />
            </a>
            
        </div>

        

        <div id="parent-fieldname-text" class="plain">
            <p>I decided to integrate eXist-db much tigher with Plone as initially planned (for strategic reasons). After heaving fighting with z3c.form I finally got to the point where I have now 4 new different Dexterity fields that store their data in eXist-db instead of the ZODB.</p>

<ul>
	<li><strong>XMLText:&nbsp;</strong>this field holds an arbitrary XML document. XML validation is performed both client-side and server-side. The widget for <strong>XMLText</strong>&nbsp;is the ACE editor.</li>
	<li><strong>XMLXPath</strong>: this field can be used to pull in parts of an content from an arbitrary XMLText field by specifying the name of the XMLText field and an arbitrary XPath expression</li>
	<li><strong>XMLImage</strong>: as as the Dexerity image field but with eXist-db as storage</li>
	<li><strong>XMLBinary:&nbsp;</strong>same as the Dexterity file field but with eXist-db as storage</li>
</ul>

<p>&nbsp;</p>

        </div>


         
    
        </div>
    </div>
    <hr />
  



            
          </div>
        
        
          <div class="blog-item">
            


  
  
  
    <div class="row">  
        <div class="span12">
            <span class="label">Nov 20, 2014</span>
            <h1 class="documentFirstHeading"><a href="contents/produce-publish-xml-edition-screencast.html">
        <span class="" id="parent-fieldname-title-2f735b0c1dc14487831a36d4f8487203">
            Produce &amp; Publish XML Edition screencast
        </span>
    </a></h1>
            <h4 class="documentDescription">
        <span class="" id="parent-fieldname-description-2f735b0c1dc14487831a36d4f8487203">
            
        </span>
    </h4>
        </div>
    </div>
    <div class="row">  
        <div class="span12 blog-content">
            

        
        <div class="newsImageContainer">
            <a href="contents/produce-publish-xml-edition-screencast/image/image_view_fullscreen.html" id="parent-fieldname-image">
               <img src="contents/produce-publish-xml-edition-screencast/image_mini.png" alt="Produce &amp; Publish XML Edition screencast" title="" height="84" width="178" class="newsImage" />
            </a>
            
        </div>

        

        <div id="parent-fieldname-text" class="plain">
            <p>Here is a screencast of the <a href="https://www.youtube.com/watch?v=CjgH5xGysXA">Produce &amp; Publish XML Edition</a>&nbsp;that features an integrated environment for</p>

<ul>
	<li>conversion of DOCX to XML/HTML</li>
	<li>conversion XML/HTML to PDF</li>
	<li>publishing of PDF and HTML to the web or other services</li>
</ul>

<p>The solution is powered by</p>

<ul>
	<li>Plone CMS</li>
	<li>C-REX for DOCX to XML/HTML conversion</li>
	<li>PDFreactor for PDF generation</li>
	<li>eXist-db XML database</li>
</ul>

<p>The non-commercial and generic&nbsp;parts of the project will be released as open-source software early next year.</p>

<p>The Plone integration with eXist-db is already available as <a href="http://pypi.python.org/pypi/zopyx.existdb">zopyx.existdb</a> package.</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

        </div>


         
    
        </div>
    </div>
    <hr />
  



            
          </div>
        
        
          <div class="blog-item">
            


  
  
  
    <div class="row">  
        <div class="span12">
            <span class="label">Nov 03, 2014</span>
            <h1 class="documentFirstHeading"><a href="contents/towards-a-generic-integration-of-external-data-sources-into-plone.html">
        <span class="" id="parent-fieldname-title-eb1e5c36e45e4014abc09d4c55801b91">
            Towards a generic integration of external data sources into Plone
        </span>
    </a></h1>
            <h4 class="documentDescription">
        <span class="" id="parent-fieldname-description-eb1e5c36e45e4014abc09d4c55801b91">
            Supporting WebDAV services, Samba Shares or Dropbox in Plone? mr.mount might be the solution!
        </span>
    </h4>
        </div>
    </div>
    <div class="row">  
        <div class="span12 blog-content">
            

        
        

        

        <div id="parent-fieldname-text" class="plain">
            <p>Over the last days I blogged several times (<a href="https://www.andreas-jung.com/contents/mount-a-plone-site-into-another-plone-site">link</a>, <a href="https://www.andreas-jung.com/contents/mounting-webdav-folders-directly-into-plone">link)</a> about the ongoing integration of Plone with XML databases (<a href="http://www.exist-db.org/">eXist-db</a> in particular as part of an ongoing XML publishing project with Plone). The integration is based on the WebDAV API of eXist-db and my module <a href="http://pypi.python.org/pypi/zopyx.existdb">zopyx.existdb</a> that integrates the hierarchical structure of eXist-db directly into Plone (similar to the Plone Reflecto add-on by Wichert Ackermann). Because of the integration layer is WebDAV it was almost trivial providing the same integration support for the XML database <a href="http://basex.org/">BaseX. </a>But wait...there are other services providing access through WebDAV. During the Plone Conference in Bristo l gave OwnCloud a quick try and it was easily possible to mount OwnCloud (or a subfolder) into Plone for reading and writing. But then Asko had the crazy idea to try to mount Plone within Plone through WebDAV and it actually worked. Here is a <a href="https://www.youtube.com/watch?v=UEt6ixxaORE">screencast</a> where plone.org/events was mounted into my local Plone sandbox. Just saying: the integration with other services works best for binary stuff like images, videos, office documents etc. It is not very suitable to access Plone test-ish content because Plone provides such content either rendered as&nbsp; complete HTML pages through the HTTP port or as document source over the WebDAV port. There might be options to deal with this some way but this is actually not the first scope of my project. So my eXist-db integration got a more wider scope: providing a unique way for attaching external data sources into Plone.</p>

<p>After a glass of wine I had the idea to turn the existing code into a more generic module - codename "mr.mount".&nbsp; On the implementation level I am using the pyfilesystem module that provides a generic and unified API for hooking arbitrary filesystem services into Python (as long as there is a driver of the FS). Fortunately pyfilesystem provides out-of-the-box support for WebDAV, local filesystem, SFTP or even AWS S3. So supporting all these filesystem services in Plone should not be that hard.&nbsp; I evaluated Dropbox access some time ago with an older version of pyfilesystem and it worked nicely (apart from issues dealing with the OAuth token from Dropbox). After some research I found two drivers for SMB/Samba for pyfilesystem...so supporting Dropbox and Windows/Samba shares in Plone appears feasible.</p>

<p>To make it clear: the current approach is not a replacement for the ZODB and not another storage layer for Archetypes/Dexterity. It is all about providing a smooth integration of external data sources. The core implementation right now provides traversal support from Plone into those external services including basic UI support for managing folders/collections (add, rename, delete), for up- and downloading content, ZIP export/import and a basic integration with the ACE editor. I am sceptical about a more deeper integration into Plone as it was implemented in Reflecto. I do not think that external content should be treated in a way a primary Plone content. So I would hestitate providing some kind of indexing support because that did not work out well in Reflecto but I am open to suggestions.</p>

<p>These are my ideas about mr.mount and the integration of other services into Plone. The implementation of mr.mount is not of high priority since my basic goal of talking with Plone to eXist-db is perfectly working for my project. If you are interested bringing this idea forward (with suggestions and funding), please get in touch with me.</p>

        </div>


         
    
        </div>
    </div>
    <hr />
  



            
          </div>
        
        
        <div class="listingBar">

    <span class="previous">
        <a href="contents2c2f.html?b_start:int=30">
           &laquo;
           
               Previous
               10
               items
           
        </a>
    </span>

    <span class="next">
        <a href="contents83cb.html?b_start:int=50">
           
               Next
               10
               items
           
           &raquo;
        </a>
    </span>

    
    <span>
        <a href="contents51a2.html?b_start:int=0">1</a>
        
    </span>

    

    
    
        <a href="contentsabcf.html?b_start:int=10">2</a>
    
    
        <a href="contents8c63.html?b_start:int=20">3</a>
    
    
        <a href="contents2c2f.html?b_start:int=30">4</a>
    

    
    <span class="current">5</span>

    
    
        <a href="contents83cb.html?b_start:int=50">6</a>
    
    
        <a href="contents3849.html?b_start:int=60">7</a>
    
    
        <a href="contents7589.html?b_start:int=70">8</a>
    

    

    
    <span>
        
        &hellip;
        
        <a href="contentsdf72.html?b_start:int=200">21</a>
    </span>

</div>
        
        <span class="visualClear"><!-- --></span>         
      </div>
     
      
    
                    </div>
                  
                </div>
                <!-- right slot -->
                
          </div>
        </div>

        <!-- main front-page -->
        
      <div class="footer-push"></div>
    
      </section>
    </article>
    <!-- ----------------------------------- /Footer -->
    

<!-- Matomo -->
<script type="text/javascript">
  var _paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="http://matomo.zopyx.com/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '8']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->


    <script type="text/javascript" src="contents/assets/js/jquery.js"></script>
    <script type="text/javascript" src="contents/assets/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/jquerytools/jquery.tools.min.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/readmore/jquery.readmore.min.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/isotope/jquery.isotope.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/hyphenator/hyphenate.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/cycle/jquery.cycle.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/bxslider/jquery.bxslider.min.js"></script>


    <script type="text/javascript">
        $('.carousel').carousel({interval: 6000});
        $('.readmore').readmore({substr_len: 250});
        $('input[type="submit"]').addClass('btn btn-success');
        $('input[type="reset"]').addClass('btn btn-danger');
        if ($('body').width() > 640) {
            $('.image-cycle').cycle({fx: 'fadeZoom', speed: 1000, timeout: 5000});
            $('.bxslider').bxSlider({randomStart: true,speed: 1000, pause:4000, auto: true});
            $('.bxslider1').bxSlider({randomStart: true,speed: 1000, pause:4000, auto: true});
            $('.bxslider-pp').bxSlider({randomStart: false, mode: 'fade', speed: 1000, pause:7000, auto: true, infiniteLoop: true, controls: false});
        }  
        /*
        Hyphenator.config({
            displaytogglebox : true,
            minwordlength : 4,
            defaultlanguage: 'de',
            classname: 'content'
        });
        Hyphenator.run();
        */

        // Resize iframe.fluid (Slideshare, YouTube integration)
        $(function() {
            var $slides= $('iframe.fluid');
            $slides.each(function() {
                $(this)
                    .data('aspectRatio', this.height / this.width)
                    .removeAttr('height')
                    .removeAttr('width');
            });
            // When the window is resized
            // (You'll probably want to debounce this)
            $(window).resize(function() {

                $fluidEl = $(".media-item");
                var newWidth = $fluidEl.width() *0.9;
                
                // Resize all videos according to their own aspect ratio
                $slides.each(function() {

                    var $el = $(this);
                    $el.width(newWidth)
                       .height(newWidth * $el.data('aspectRatio'));

                });
            // Kick off one resize to fix all videos on page load
            }).resize();
        });

    </script>

    <!-- Jira feedback collector -->
    
    


  </body>

<!-- Mirrored from blog.zopyx.com/andreas-jung/contents?b_start:int=40 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 21 Sep 2020 14:23:41 GMT -->
</html>

