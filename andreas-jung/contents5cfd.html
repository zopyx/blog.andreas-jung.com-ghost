
    <html lang="en">
  
<!-- Mirrored from blog.zopyx.com/andreas-jung/contents?b_start:int=120 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 21 Sep 2020 14:31:51 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<base  />

    <meta charset="utf-8">
    <title> Blog Andreas Jung - Andreas Jung </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The company for Zope, Plone, Python, MongoDB and Electronic Publishing">
    <meta name="author" content="ZOPYX, Andreas Jung, Tuebingen, Germany">

    <link href="contents/assets/css/bootstrap.css" rel="stylesheet">

    <style>
      body {
        padding-top: 100px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <link rel="stylesheet" href="https://blog.zopyx.com/assets/css/font-awesome.css">

    <!-- fonts -->
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700" rel="stylesheet" type="text/css">

    <link rel="stylesheet/less" type="text/css" href="https://blog.zopyx.com/assets/less/bootstrap.less" />
    <script type="text/javascript" src="https://blog.zopyx.com/assets/js/less-1.3.1.min.js"></script>

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
      <![endif]-->
    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="contents/assets/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" src="https://blog.zopyx.com/assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" src="https://blog.zopyx.com/assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" src="https://blog.zopyx.com/assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" src="https://blog.zopyx.com/assets/ico/apple-touch-icon-57-precomposed.png">

    <link rel="stylesheet" href="https://blog.zopyx.com/assets/css/base.css">
    <link rel="stylesheet" href="https://blog.zopyx.com/bxslider/jquery.bxslider.css">


    <!-- Plone compatibility -->
    
    
  </head>

  <body data-spy="scroll" data-target=".sidebar-nav" class="section-andreas-jung context-contents portal-type-folder">

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          
            
            <a class="brand" style="color: white" href="contents.html">
              <h1>Blog of Andreas Jung</h1>
            </a>
          
          
          
          
           <form id="global-nav-search" class="navbar-search pull-right" action="https://blog.zopyx.com/andreas-jung/search">
            
            <input type="text" class="search-query" placeholder="Search" name="SearchableText" />
           </form>
        </div>
      </div>
    </div>
     <!-- /keyvisual -->
    <article>
      <section>

        <!-- main -->
        <div class="container container-main">
            
            <div class="row-fluid">
                <div></div>
            </div>
            <div class="row-fluid">
                <div class="span12">
                    
                    <div id="content">
                      
      

      <a class="label" href="contents/collection.html">
        Overview over all blog items
      </a>

            

      <p class="documentDescription">
        
        <span class="" id="parent-fieldname-description-c568bd3bf1fc41ec8bda748b6ea239ac">
            
        </span>
    
        <span class="visualClear"><!-- --></span>
      </p>
      
      
      
      
      
      <span class="visualClear"><!-- --></span>         
      
      <div id="blog-listing">
        <div class="listingBar">

    <span class="previous">
        <a href="contents4786.html?b_start:int=110">
           &laquo;
           
               Previous
               10
               items
           
        </a>
    </span>

    <span class="next">
        <a href="contents9097.html?b_start:int=130">
           
               Next
               10
               items
           
           &raquo;
        </a>
    </span>

    
    <span>
        <a href="contents51a2.html?b_start:int=0">1</a>
        
           &hellip;
        
    </span>

    

    
    
        <a href="contents1477.html?b_start:int=90">10</a>
    
    
        <a href="contents9c44.html?b_start:int=100">11</a>
    
    
        <a href="contents4786.html?b_start:int=110">12</a>
    

    
    <span class="current">13</span>

    
    
        <a href="contents9097.html?b_start:int=130">14</a>
    
    
        <a href="contentsfffe.html?b_start:int=140">15</a>
    
    
        <a href="contentsd864.html?b_start:int=150">16</a>
    

    

    
    <span>
        
        &hellip;
        
        <a href="contentsdf72.html?b_start:int=200">21</a>
    </span>

</div>
      
        
          <div class="blog-item">
            


  
  
  
    <div class="row">  
        <div class="span12">
            <span class="label">Jul 02, 2010</span>
            <h1 class="documentFirstHeading"><a href="contents/versioning-in-zope-and-plone-revisited-part-i-update.html">
        <span class="" id="parent-fieldname-title-998d4d883148442585bd6103584e84f8">
            Versioning in Zope and Plone revisited - Part I (update)
        </span>
    </a></h1>
            <h4 class="documentDescription">
        <span class="" id="parent-fieldname-description-998d4d883148442585bd6103584e84f8">
            
        </span>
    </h4>
        </div>
    </div>
    <div class="row">  
        <div class="span12 blog-content">
            

        
        

        

        <div id="parent-fieldname-text" class="plain">
            <div><p>Here is a screencast of my prototype versioning implementation with Plone 4.0b4 and MongoDB as backend for storing the versioned data.</p>
<p><a class="external-link" href="http://www.youtube.com/watch?v=s4usLvnJScs.com/watch?v=s4usLvnJScs">http://www.youtube.com/watch?v=s4usLvnJScs</a></p></div>
        </div>


         
    
        </div>
    </div>
    <hr />
  



            
          </div>
        
        
          <div class="blog-item">
            


  
  
  
    <div class="row">  
        <div class="span12">
            <span class="label">Jul 01, 2010</span>
            <h1 class="documentFirstHeading"><a href="contents/versioning-in-zope-and-plone-revisited-part-i.html">
        <span class="" id="parent-fieldname-title-eda7a266397340b5bb0a4add660f90be">
            Versioning in Zope and Plone revisited - Part I
        </span>
    </a></h1>
            <h4 class="documentDescription">
        <span class="" id="parent-fieldname-description-eda7a266397340b5bb0a4add660f90be">
            On a new versioning approach for Zope-based applications
        </span>
    </h4>
        </div>
    </div>
    <div class="row">  
        <div class="span12 blog-content">
            

        
        

        

        <div id="parent-fieldname-text" class="plain">
            <div><h2>CMFEditions - the current versioning system used for CMF and Plone</h2>
<p>To make it short: CMFEditions stinks.</p>
<p>Why?</p>
<ul><li>very monolithic</li>
<li>too tight integration with CMF</li>
<li>fragile implementation </li>
<li>doing "too much" </li>
<li>doing "too much" in a very intransparent way</li>
<li>no backend serialization format other than Python pickles</li>
<li>only ZODB-based backend </li>
<li>backend not pluggable</li>
</ul><h2>Design goals for a new versioning implementation for Zope-based applications</h2>
<ul><li>golden rule #1: keep it simple, keep it small</li>
<li>pluggable storage API (storing the versioned data)</li>
<li>using JSON as data exchange format between objects to be versioned  and versioner and between versioner and backend storage (the storage may use a different serialization format (e.g. 'pickle' for a ZODB  based backend or 'json' for a typical noSQL backend like MongoDB) </li>
<li>making use of the Zope Component Architecture for adopting arbitrary content objects to the storage API </li>
<li>the solution does not claim to store and restore the complete state of an content object. Instead we focus on dealing with the metadata and the content itself. If an object uses a complex internal data model then it is in responsible to serialize and deserialize the data to JSON.</li>
<li>leave out complex functionality (likely handling of references, object relations etc.) out of the core versioning engine - this might be handled through adapters</li>
</ul><h2>Storage layer</h2>
<p>CMFEditions uses the ZODB for storing the state of an object as a Python pickle. The new versioning systems supports a pluggable storage system where a version storage provides its functionality through a well-defined API (as defined through IVersionSupport). Three different storages come to my mind: (RDBMS, object databases like the ZODB and document-oriented databases like MongoDB). A version storage API may look like this:</p>
<pre>class IVersionStorage(Interface):<br /><br /> # methods used for IVersionSupport<br /> def store(id, version_data, revision_metadata):<br /> """ Store 'version_data' for a given 'id'.  'version_data' holds the<br /> data to be versioned (JSON format).  'revision_metadata' holds  <br /> application-specific metadata for the particular version (e.g.  <br /> revision date, creator uid, "revision is a major/minor          <br /> revision) (JSON format).                                        <br /><br /> Returns revision number.<br /> """                         <br /><br /> def retrieve(id, revision):<br /> """ Return 'version_data' for a given 'id' and 'revision' """<br /><br /> def remove(id):<br /> """ Remove all revisions for a given object 'id' """<br /><br /> def has_revision(id, revision):<br /> """ Check if there is a revison 'revision' for a given object 'id' """<br /><br /> def remove_revision(id, revision):<br /> """ Remove a particular 'revision' for a given object 'id' """<br /><br /> def remove(id):<br /> """ Remove all revisions for a given object 'id' """<br /><br /> def list_revisions(id):<br /> """ Return all revisions (and their stored revison_metadata) stored for<br /> a particular content piece by its 'id'.<br /> """</pre>
<h2>Versioning layer</h2>
<p>Versioning is an application-level functionality. An application should have full control over the things to be versioned (recall that CMFEdition always persists the full object state). In order to make a particular object versionable we need a simple interface (either to be implemented directly by the object or through an adapter):</p>
<p> </p>
<pre>class IVersionSupport(Interface):<br /> """ API for retrieving data to be versioned from an object<br /> and restoring a previous state of an object.          <br /> The data format is JSON.                              <br /><br /> Objects must provide their unique ID through the 'id' field.<br /><br /> This API applies to single objects only <br /> (no support for object collections).    <br /> """                                         <br /><br /> def getVersionableData():<br /> """ Return versionable data (in JSON format) """<br /><br /> def restoreFromVersion(version_data):<br /> """ Restore object based on 'version_data' (JSON format) """</pre>
<h2>Open issues</h2>
<ul><li>dealing with large data (images, files). A storage backend like MongoDB has a limit of 4MB for embedded documents (we have to use GridFS for larger pieces of data)</li>
<li>all versionable objects must provide a unique ID (``UID`` for Archetypes-backed content). How about Dexterity? How about ZTK/zope.schema-based content?</li>
<li>should de-duplication be handled on the storage layer or the versioning layer (I assume on the storage layer as an optional feature in order to keep the overall complexity low)</li>
<li>how to deal with object collections (folders, hierarchies...having some ideas but they need some more brain-storming...likely to be approached with part II of the blog entry some time soon)</li>
</ul><h2>Prototype implementation</h2>
<p>I created a rapid protoype using MongoDB as storage backend for the versioned data. A very basic implementation for Archetypes-based content has been implemented using adapter:</p>
<ol><li>adapters for adopting Plone (4) content to IVersionSupport</li>
<li>adapters for adopting Archetypes fields to a simple API with get(), set() methods for retrieving/storing values for a particular field from Plone content</li>
</ol><p>The overall implementation is actually very small and extensible. In fact it is possible to version almost all core Plone content-types (except object collections (like folders)) into MongoDB.</p>
<h3>Why MongoDB?</h3>
<p>We are using MongoDB in an ongoing project and my experiences are very positive. MongoDB is very easy so install and run (much, much easier than a ZODB/ZEO server) and its document-oriented storage approach fits perfectly with the JSON data model. In addition: MongoDB is blazing fast (up 50.000 inserts per second measured), has a rich query API and provides a bunch of replication options.</p>
<h2>Keep in mind...</h2>
<ul><li>storages will be pluggable...so you may replace a MongoDB storage with a ZODB-backed implementation</li>
<li>versioning all and everything is not our primary goal - we want to version the interesing information</li>
</ul></div>
        </div>


         
    
        </div>
    </div>
    <hr />
  



            
          </div>
        
        
          <div class="blog-item">
            


  
  
  
    <div class="row">  
        <div class="span12">
            <span class="label">Jun 15, 2010</span>
            <h1 class="documentFirstHeading"><a href="contents/reapproaching-the-www.zope.html">
        <span class="" id="parent-fieldname-title-5e1f67ead4fb4fe39272ebe62a521934">
            Reapproaching the www.zope.org relaunch
        </span>
    </a></h1>
            <h4 class="documentDescription">
        <span class="" id="parent-fieldname-description-5e1f67ead4fb4fe39272ebe62a521934">
            
        </span>
    </h4>
        </div>
    </div>
    <div class="row">  
        <div class="span12 blog-content">
            

        
        

        

        <div id="parent-fieldname-text" class="plain">
            <div><p>After the glorious failure of the new.zope.org project it is now time for anointing<a class="external-link" href="http://www.zope.org/"> www.zope.org</a> and kicking it into the grave.</p>
<p>The website of the <a class="external-link" href="http://www.zope.de/">Deutschsprachige Zope User Group (DZUG)</a> was relaunched last week and we will be using its theme as a basis for the new www.zope.org site. The new site will be non-member site and basically contain information about the various Zope projects and provide exits to the related existing project sites.</p>
<p>The project will be carried out by following team:</p>
<ul><li>Michael Haubenwaller (zope.org webmaster and responsible for the site structure)</li>
<li>Kai Mertens (graphics and design)</li>
<li>Andreas Jung (project lead)</li>
</ul><p>We will keep the team small in order getting this project done. All project member are committed to the project and we will not make the mistake as in the past where too many people were trying to steer the project. We will present the state of the project from time to time to the public and ask for feedback and further input.</p>
<p>So keep your fingers crossed.</p>
<p> </p></div>
        </div>


         
    
        </div>
    </div>
    <hr />
  



            
          </div>
        
        
          <div class="blog-item">
            


  
  
  
    <div class="row">  
        <div class="span12">
            <span class="label">Jun 11, 2010</span>
            <h1 class="documentFirstHeading"><a href="contents/produce-publish-summer-discount.html">
        <span class="" id="parent-fieldname-title-f0f0d95582f54d8e8f787b4c1692e315">
            Produce &amp; Publish Summer Discount
        </span>
    </a></h1>
            <h4 class="documentDescription">
        <span class="" id="parent-fieldname-description-f0f0d95582f54d8e8f787b4c1692e315">
            Produce &amp; Publish is one of  the leading solutions for authoring content and producing high-quality PDF documents in the world of free content-management-systems.
        </span>
    </h4>
        </div>
    </div>
    <div class="row">  
        <div class="span12 blog-content">
            

        
        <div class="newsImageContainer">
            <a href="contents/produce-publish-summer-discount/image/image_view_fullscreen.html" id="parent-fieldname-image">
               <img src="contents/produce-publish-summer-discount/image_mini.jpg" alt="Produce &amp; Publish Summer Discount" title="" height="200" width="185" class="newsImage" />
            </a>
            
        </div>

        

        <div id="parent-fieldname-text" class="plain">
            <div><p>The <a class="external-link" href="http://www.produce-and-publish.com/">Produce &amp; Publish</a> <a class="external-link" href="http://www.produce-and-publish.com/News/authoring-environment-v-1-0-for-produce-publish-released">Authoring Environment</a> and other components are now available for a discounted price for a limited time.</p>
<p>Please check out special <a class="external-link" href="http://www.produce-and-publish.com/offer">summer offer</a>.</p></div>
        </div>


         
    
        </div>
    </div>
    <hr />
  



            
          </div>
        
        
          <div class="blog-item">
            


  
  
  
    <div class="row">  
        <div class="span12">
            <span class="label">May 19, 2010</span>
            <h1 class="documentFirstHeading"><a href="contents/plone4universities-is-dead-long-live-ploneedu.html">
        <span class="" id="parent-fieldname-title-4291b575012d4b34b7e9ca9251a0f5a4">
             Plone4Universities is dead - long live PloneEdu!
        </span>
    </a></h1>
            <h4 class="documentDescription">
        <span class="" id="parent-fieldname-description-4291b575012d4b34b7e9ca9251a0f5a4">
            
        </span>
    </h4>
        </div>
    </div>
    <div class="row">  
        <div class="span12 blog-content">
            

        
        

        

        <div id="parent-fieldname-text" class="plain">
            <p>As initiator of the Plone4Universities project I decided to give up the project and support the new PloneEdu project which has a much broader fundation. Effective today the <a href="http://www.plone4universities.org/" target="_blank">www.plone4universities.org</a> site will be redirected to the PloneEdu site at<br /><br /><a href="http://weblion.psu.edu/ploneedu" target="_blank">http://weblion.psu.edu/ploneedu</a>.<br /><br />The old P4U site will remain available for some time under<br /><br /><a href="http://old.plone4universities.org/" target="_blank">http://old.plone4universities.org</a><br /><br />I will move interesting content from the current P4U site to the PloneEDU over the next weeks. Feel free to do so with your own content and help growing the PloneEdu project.<br /><br />I will stay in touch with the project as member of the PloneEdu steering committee.<br /><br />Andreas</p>
        </div>


         
    
        </div>
    </div>
    <hr />
  



            
          </div>
        
        
          <div class="blog-item">
            


  
  
  
    <div class="row">  
        <div class="span12">
            <span class="label">Apr 14, 2010</span>
            <h1 class="documentFirstHeading"><a href="contents/looking-beyond-ones-own-nose-looking-at-rabbitmq-and-mongodb.html">
        <span class="" id="parent-fieldname-title-ad4338668639425a9d45cb129637dcfa">
            Looking beyond one's own nose - looking at RabbitMQ and MongoDB
        </span>
    </a></h1>
            <h4 class="documentDescription">
        <span class="" id="parent-fieldname-description-ad4338668639425a9d45cb129637dcfa">
            Unsorted remarks on RabbitMQ and MongoDB plus some benchmarks with mass data
        </span>
    </h4>
        </div>
    </div>
    <div class="row">  
        <div class="span12 blog-content">
            

        
        

        

        <div id="parent-fieldname-text" class="plain">
            <div><p>For the last couple of weeks I had a closer look at <a class="external-link" href="http://www.rabbitmq.org/">RabbitMQ</a> and <a class="external-link" href="http://www.mongodb.org/">MongoDB</a> for some upcoming project.</p>
<p>MongoDB is one representant of the so called NoSQL databases - RabbitMQ is a fast open-source message-queue implementation.</p>
<h2>Why MongoDB?</h2>
<ul><li>it is well-documented</li>
<li>it is easy installable and provides a good mix of NoSQL-ness with some SQL-ishness</li>
</ul><h2>Why RabbitMQ?</h2>
<ul><li>No idea - I came across RabbitMQ while doing some research and it was love at the first glance.</li>
</ul><p>Today I made some benchmarks in order to get some rough ideas about the speed.</p>
<p>The task: import 18.000 SGML documents into MongoDB (direct import and with a message queue in between). The 18.000 SGML documents made about 180 MB of data to be imported. The export time of the SGML documents from our Zope-based CMS was about 30 minutes (which I consider being really slow).</p>
<h2>Native MongoDB import</h2>
<p>The native importer script using the pymongo Python bindings took about 4-5 seconds(!) - which is about 4000-5000 documents per second or 40-50 MB of data per second. This is actually very fast and impressive.</p>
<h2>RabbitMQ + MongoDB</h2>
<p>In this scenario I setup a message queue within RabbitMQ and inserted all SGML into the queue using a small Python producer script (using the carrot Python bindings for RabbitMQ). At the other end of the queue I had a consumer listening to the queue picking up the data from the queue and inserting it into MongoDB. This solution turned out being (much) slower. Insertion of the 18.000 documents took about 20 seconds. The consumer needed the same time plus 4-5 seconds native insertion time in MongoDB (as with the native import approach)...so overall 4-5 times slower and a throughput of roughly 1000 documents each second or 10 MB per second.</p>
<h3>Testing environment</h3>
<p>Intel Core 2 DUO (2.66 GHz), MongoDB 1.4 + RabbitMQ 1.7.2 running with out-of-the-box configuration</p>
<h3>Conclusions</h3>
<p>Hard to tell...MongoDB with pymongo Python bindings is very fast (compare this to the export time of our CMS - although not directly comparable (different hardware, different software). RabbitMQ seems to be a pretty cool approach for coupling different components of an application. One nice thing about the carrot Python bindings for RabbitMQ: you can stuff almost anything into the queue: standard Python types, object instances (using the dedicated pickle serializer or large data). Queues in RabbitMQ can be durable surviving a shutdown of the RabbitMQ server. RabbitMQ supports clustering and various routing options for messages inside the queues....a pretty cool piece of software...and the company behind RabbitMQ (it's open-source) was bought by a division of VMware yesterday...lots of interesting cool stuff coming a long our way right now.</p>
<p> </p></div>
        </div>


         
    
        </div>
    </div>
    <hr />
  



            
          </div>
        
        
          <div class="blog-item">
            


  
  
  
    <div class="row">  
        <div class="span12">
            <span class="label">Mar 17, 2010</span>
            <h1 class="documentFirstHeading"><a href="contents/plone.app.html">
        <span class="" id="parent-fieldname-title-32b6e711b0ae406199fa723af63e0742">
            plone.app.event
        </span>
    </a></h1>
            <h4 class="documentDescription">
        <span class="" id="parent-fieldname-description-32b6e711b0ae406199fa723af63e0742">
            A replacement for ATEvent as outcome of the Cathedral-Sprint in Cologne
        </span>
    </h4>
        </div>
    </div>
    <div class="row">  
        <div class="span12 blog-content">
            

        
        <div class="newsImageContainer">
            <a href="contents/plone.app.event/image/image_view_fullscreen.html" id="parent-fieldname-image">
               <img src="contents/plone.app.event/image_mini.png" alt="plone.app.event" title="" height="56" width="200" class="newsImage" />
            </a>
            
        </div>

        

        <div id="parent-fieldname-text" class="plain">
            <div><p>Just left the Cathedral Sprint in Cologone after three days of successful sprinting. This was the most productive sprint I have ever attended. We had a clear goal for the sprint and we reached it with a great complementary team.</p>
<p>As an outcome we implemented plone.app.event - a replacement for ATEvent - which should make it into Plone 4.1.</p>
<h3>Features of plone.app.event:</h3>
<ul><li>drop-in replacement for ATEvent</li>
<li>new calendar widget with full internationalization and localization support</li>
<li>support for whole day events</li>
<li>support for events without end dates</li>
<li>proper export of whole day events to iCal</li>
<li>recurrence (work-in-progress)</li>
</ul><h3>Thanks to the fantastic calendaring sprint team:</h3>
<ul><li><strong>Vincent Fretin</strong> - doing a great job on the calendar widget, jQuery UI integration and lots of code polishing</li>
<li><strong>Johannes Raggam</strong> - working on recurrence issues and integration of RecurringIndex</li>
<li><strong>Tom Gross</strong> and <strong>Rodrigo Ristow</strong> - plone.app.event core implementation and porting stuff from ATEvent, tests etc. </li>
</ul><p>And our special thanks to <a class="external-link" href="http://www.gfu.net/"><strong>GFU Cyrus AG</strong></a>, Cologne for hosting the sprint and their awesome financial support. It has been a pleasure spending three days at the GFU headquarter.</p></div>
        </div>


         
    
        </div>
    </div>
    <hr />
  



            
          </div>
        
        
          <div class="blog-item">
            


  
  
  
    <div class="row">  
        <div class="span12">
            <span class="label">Mar 08, 2010</span>
            <h1 class="documentFirstHeading"><a href="contents/making-pypi-sux-less.html">
        <span class="" id="parent-fieldname-title-2e3ebb44906e4925bfd1d6ce1882d8e2">
            Making PyPI  sux less
        </span>
    </a></h1>
            <h4 class="documentDescription">
        <span class="" id="parent-fieldname-description-2e3ebb44906e4925bfd1d6ce1882d8e2">
            
        </span>
    </h4>
        </div>
    </div>
    <div class="row">  
        <div class="span12 blog-content">
            

        
        

        

        <div id="parent-fieldname-text" class="plain">
            <p><a href="http://www.slideshare.net/ajung/making-py-pi-sux-less-key">http://www.slideshare.net/ajung/making-py-pi-sux-less-key</a></p>
        </div>


         
    
        </div>
    </div>
    <hr />
  



            
          </div>
        
        
          <div class="blog-item">
            


  
  
  
    <div class="row">  
        <div class="span12">
            <span class="label">Feb 15, 2010</span>
            <h1 class="documentFirstHeading"><a href="contents/checking-your-zodb-storages-for-poskey-errors.html">
        <span class="" id="parent-fieldname-title-e3714ba6c68b4854bfe480b0f1f58576">
            Checking your ZODB storages for PosKey errors
        </span>
    </a></h1>
            <h4 class="documentDescription">
        <span class="" id="parent-fieldname-description-e3714ba6c68b4854bfe480b0f1f58576">
            Here is the blueprint...
        </span>
    </h4>
        </div>
    </div>
    <div class="row">  
        <div class="span12 blog-content">
            

        
        

        

        <div id="parent-fieldname-text" class="plain">
            <div><ul><li>create a virtualenv environment for Python 2.6</li>
<li>install zc.zodbdgc:</li>
</ul><pre>bin/easy_install zc.zodbdgc</pre>
<li>create a copy of the storage file (your Data.fs)</li>
<li>create a configuration file in.cfg for this storage:</li>
<pre>&lt;zodb 1&gt;<br />  &lt;filestorage main&gt;<br />      path /path/to/Data_copied.fs<br />  &lt;/filestorage&gt;<br />&lt;/zodb&gt; </pre>
<li>
<p>run the check (the script will give you some reasonable output possible Poskey error if there are any. For a consistent storage there won't be any output):</p>
<pre>bin/multi-zodb-check-refs in.cfg</pre>
<p class=" "> </p>
</li>
</div>
        </div>


         
    
        </div>
    </div>
    <hr />
  



            
          </div>
        
        
          <div class="blog-item">
            


  
  
  
    <div class="row">  
        <div class="span12">
            <span class="label">Feb 10, 2010</span>
            <h1 class="documentFirstHeading"><a href="contents/no-plone-dependency-declarations-within-your-setup.html">
        <span class="" id="parent-fieldname-title-4b48a41fe79a41a3a8e9a0d1c0690012">
            No Plone dependency declarations within your setup.py - PLEASE
        </span>
    </a></h1>
            <h4 class="documentDescription">
        <span class="" id="parent-fieldname-description-4b48a41fe79a41a3a8e9a0d1c0690012">
            
        </span>
    </h4>
        </div>
    </div>
    <div class="row">  
        <div class="span12 blog-content">
            

        
        

        

        <div id="parent-fieldname-text" class="plain">
            <p>Today I had a hard time fixing a Plone 3.1.7 buildout suddenly pulling in Plone 3.3 and Plone 4 stuff. In each case it turned out that some add-ons defined <i>Plone </i>as a dependency through <i>install_requires. </i>Never ever do that! There is really no need to define upstream packages as a dependency. On of the issues was with the latest DataGridField release specifying "Plone &gt;= 4.0a1". This is completely insane. Add-ons should specify there down-stream dependencies and side-stream dependencies only. Another issue where some add-on was pulling in Plone 3.3 remains without further investigation....this dependency nonsense took me almost a complete working day in order to get the site up again and running. Average users would be completely doomed I guess...so please: trible think about what you put into your add-on as dependency and how you add it...at least "Plone" does not belong here - perhaps others have a different opinion on that?</p>
        </div>


         
    
        </div>
    </div>
    <hr />
  



            
          </div>
        
        
        <div class="listingBar">

    <span class="previous">
        <a href="contents4786.html?b_start:int=110">
           &laquo;
           
               Previous
               10
               items
           
        </a>
    </span>

    <span class="next">
        <a href="contents9097.html?b_start:int=130">
           
               Next
               10
               items
           
           &raquo;
        </a>
    </span>

    
    <span>
        <a href="contents51a2.html?b_start:int=0">1</a>
        
           &hellip;
        
    </span>

    

    
    
        <a href="contents1477.html?b_start:int=90">10</a>
    
    
        <a href="contents9c44.html?b_start:int=100">11</a>
    
    
        <a href="contents4786.html?b_start:int=110">12</a>
    

    
    <span class="current">13</span>

    
    
        <a href="contents9097.html?b_start:int=130">14</a>
    
    
        <a href="contentsfffe.html?b_start:int=140">15</a>
    
    
        <a href="contentsd864.html?b_start:int=150">16</a>
    

    

    
    <span>
        
        &hellip;
        
        <a href="contentsdf72.html?b_start:int=200">21</a>
    </span>

</div>
        
        <span class="visualClear"><!-- --></span>         
      </div>
     
      
    
                    </div>
                  
                </div>
                <!-- right slot -->
                
          </div>
        </div>

        <!-- main front-page -->
        
      <div class="footer-push"></div>
    
      </section>
    </article>
    <!-- ----------------------------------- /Footer -->
    

<!-- Matomo -->
<script type="text/javascript">
  var _paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="http://matomo.zopyx.com/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '8']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->


    <script type="text/javascript" src="contents/assets/js/jquery.js"></script>
    <script type="text/javascript" src="contents/assets/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/jquerytools/jquery.tools.min.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/readmore/jquery.readmore.min.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/isotope/jquery.isotope.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/hyphenator/hyphenate.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/cycle/jquery.cycle.js"></script>
    <script type="text/javascript" src="https://blog.zopyx.com/bxslider/jquery.bxslider.min.js"></script>


    <script type="text/javascript">
        $('.carousel').carousel({interval: 6000});
        $('.readmore').readmore({substr_len: 250});
        $('input[type="submit"]').addClass('btn btn-success');
        $('input[type="reset"]').addClass('btn btn-danger');
        if ($('body').width() > 640) {
            $('.image-cycle').cycle({fx: 'fadeZoom', speed: 1000, timeout: 5000});
            $('.bxslider').bxSlider({randomStart: true,speed: 1000, pause:4000, auto: true});
            $('.bxslider1').bxSlider({randomStart: true,speed: 1000, pause:4000, auto: true});
            $('.bxslider-pp').bxSlider({randomStart: false, mode: 'fade', speed: 1000, pause:7000, auto: true, infiniteLoop: true, controls: false});
        }  
        /*
        Hyphenator.config({
            displaytogglebox : true,
            minwordlength : 4,
            defaultlanguage: 'de',
            classname: 'content'
        });
        Hyphenator.run();
        */

        // Resize iframe.fluid (Slideshare, YouTube integration)
        $(function() {
            var $slides= $('iframe.fluid');
            $slides.each(function() {
                $(this)
                    .data('aspectRatio', this.height / this.width)
                    .removeAttr('height')
                    .removeAttr('width');
            });
            // When the window is resized
            // (You'll probably want to debounce this)
            $(window).resize(function() {

                $fluidEl = $(".media-item");
                var newWidth = $fluidEl.width() *0.9;
                
                // Resize all videos according to their own aspect ratio
                $slides.each(function() {

                    var $el = $(this);
                    $el.width(newWidth)
                       .height(newWidth * $el.data('aspectRatio'));

                });
            // Kick off one resize to fix all videos on page load
            }).resize();
        });

    </script>

    <!-- Jira feedback collector -->
    
    


  </body>

<!-- Mirrored from blog.zopyx.com/andreas-jung/contents?b_start:int=120 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 21 Sep 2020 14:31:51 GMT -->
</html>

